<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Completed Tasks</title>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
	<style>
		:root {
			--primary: #4a90e2;
			--primary-dark: #357ab8;
			--success: #4caf50;
			--warning: #ff9800;
			--danger: #e53935;
		}

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Inter', sans-serif;
			background: linear-gradient(135deg, #141E30, #243B55);
			color: #f1f5f9;
			padding: 20px;
			min-height: 100vh;
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.container {
			background: rgba(255, 255, 255, 0.08);
			backdrop-filter: blur(12px);
			-webkit-backdrop-filter: blur(12px);
			padding: 40px;
			max-width: 1000px;
			width: 100%;
			margin: auto;
			border-radius: 20px;
			box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
			transition: transform 0.3s ease;
		}

		.container:hover {
			transform: scale(1.01);
		}

		.header {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 12px;
			margin-bottom: 28px;
		}

		.header-icon {
			font-size: 24px;
			background: var(--primary);
			color: white;
			padding: 10px;
			border-radius: 50%;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
		}

		h1 {
			font-size: 2.2rem;
			text-align: center;
			letter-spacing: 0.5px;
			color: #fff;
		}

		table {
			width: 100%;
			border-collapse: collapse;
			margin-top: 20px;
			border-radius: 12px;
			overflow: hidden;
		}

		th,
		td {
			padding: 16px 12px;
			text-align: center;
			font-size: 1rem;
		}

		th {
			background: rgba(74, 144, 226, 0.5);
			color: #fff;
			text-transform: uppercase;
			letter-spacing: 0.05em;
		}

		td {
			background: rgba(255, 255, 255, 0.05);
			color: #e0e0e0;
			transition: background 0.3s ease;
		}

		tr:hover td {
			background: rgba(255, 255, 255, 0.12);
		}

		.duration-badge {
			display: inline-block;
			padding: 6px 14px;
			border-radius: 50px;
			font-size: 0.9rem;
			font-weight: 600;
		}

		/* color coding */
		.duration-badge[data-type="short"] {
			background: rgba(76, 175, 80, 0.2);
			color: var(--success);
		}

		.duration-badge[data-type="medium"] {
			background: rgba(255, 152, 0, 0.2);
			color: var(--warning);
		}

		.duration-badge[data-type="long"] {
			background: rgba(229, 57, 53, 0.2);
			color: var(--danger);
		}

		.back-link {
			display: inline-block;
			margin-top: 30px;
			padding: 12px 20px;
			background: rgba(74, 144, 226, 0.2);
			color: #fff;
			border-radius: 12px;
			text-decoration: none;
			font-weight: 600;
			transition: all 0.3s ease;
			backdrop-filter: blur(6px);
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
		}

		.back-link:hover {
			background: rgba(74, 144, 226, 0.4);
			transform: translateY(-3px);
			box-shadow: 0 6px 18px rgba(0, 0, 0, 0.35);
		}

		@media (max-width: 600px) {

			th,
			td {
				font-size: 0.85rem;
				padding: 12px 8px;
			}

			.container {
				padding: 24px;
			}

			h1 {
				font-size: 1.6rem;
			}
		}
	</style>
</head>

<body>

	<div class="container">
		<div class="header">
			<div class="header-icon">✅</div>
			<h1>Tasks Logs</h1>
		</div>

		<table>
			<thead>
				<tr>
					<th>Work</th>
					<th>Total Duration</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="task : ${List}">
					<td th:text="${task.work}"></td>
					<td>
						<span class="duration-badge"
							th:if="${#strings.substringBefore(task.totalDuration, ' ') != '0'}"
							th:text="${#strings.substringBefore(task.totalDuration, ' ') + ' day(s) '}"
							th:attr="data-type=${#strings.substringBefore(task.totalDuration, ' ') lt 2 ? 'short' : (#strings.substringBefore(task.totalDuration, ' ') lt 5 ? 'medium' : 'long')}">
						</span>
						<span th:text="${#strings.substringAfter(task.totalDuration, ' day(s) ')}"></span>
					</td>
				</tr>
			</tbody>
		</table>

		<a href="/index" class="back-link" onclick="return confirmNavigation()">← Back to All Tasks</a>
	</div>

	<script>
		function confirmNavigation() {
			return confirm("Are you sure you want to go back to the All Tasks page?");
		}
	</script>

</body>

</html>
